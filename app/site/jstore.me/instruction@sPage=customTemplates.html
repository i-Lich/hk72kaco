<!DOCTYPE html>
<!--[if IE 9]>
<html lang="ru" class="ie9 no-focus"><![endif]-->
<!--[if gt IE 9]><!-->
<html lang="ru" class="no-focus"><!--<![endif]-->
<head>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0">
<meta name="csrf-param" content="_csrf">
<meta name="csrf-token" content="AQv8LGxhpm9cq1r8Vz9d992UsCpD7VdEOdNYovdUxd1VSY4eODfUOjLfDLY_S2XF6NPzSSagPHdYnjfbwzCkiQ==">
<title>Инструкция по подключению</title>

<meta name="keywords" content="iiko deliveryWidget">
<meta name="description" content="интеграция сайта с системой iikoDelivery">
<link href="assets/ed1eb34d/css/bootstrap.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400italic,600,700%7COpen+Sans:300,400,400italic,600,700" rel="stylesheet">
<link href="assets/f3cb5eaa/js/plugins/slick/slick.min.css" rel="stylesheet">
<link href="assets/f3cb5eaa/js/plugins/slick/slick-theme.min.css" rel="stylesheet">
<link href="assets/f3cb5eaa/js/plugins/select2/select2.min.css" rel="stylesheet">
<link href="assets/f3cb5eaa/js/plugins/fancy/jquery.fancybox.css" rel="stylesheet">
<link href="assets/f3cb5eaa/js/plugins/ion-rangeslider/css/ion.rangeSlider.min.css" rel="stylesheet">
<link href="assets/f3cb5eaa/js/plugins/ion-rangeslider/css/ion.rangeSlider.skinHTML5.min.css" rel="stylesheet">
<link href="assets/f3cb5eaa/css/bootstrap.min.css" rel="stylesheet">
<link href="assets/f3cb5eaa/css/oneui.css" rel="stylesheet">
<link href="assets/5c31881c/core.css" rel="stylesheet">
<script src="assets/72cba342/jquery.js"></script>
<script src="assets/bf268580/yii.js"></script>
<script src="assets/ed1eb34d/js/bootstrap.js"></script>
<script src="assets/f3cb5eaa/js/core/bootstrap.min.js"></script>
<script src="assets/f3cb5eaa/js/core/jquery.scrollLock.min.js"></script>
<script src="assets/f3cb5eaa/js/core/jquery.slimscroll.min.js"></script>
<script src="assets/f3cb5eaa/js/core/jquery.appear.min.js"></script>
<script src="assets/f3cb5eaa/js/core/jquery.countTo.min.js"></script>
<script src="assets/f3cb5eaa/js/core/jquery.placeholder.min.js"></script>
<script src="assets/f3cb5eaa/js/core/js.cookie.min.js"></script>
<script src="assets/f3cb5eaa/js/plugins/fancy/jquery.fancybox.js"></script>
<script src="assets/f3cb5eaa/js/plugins/slick/slick.min.js"></script>
<script src="assets/f3cb5eaa/js/plugins/chartjs/Chart.min.js"></script>
<script src="assets/f3cb5eaa/js/plugins/ion-rangeslider/js/ion.rangeSlider.min.js"></script>
<script src="assets/f3cb5eaa/js/app.js"></script>
<script src="assets/5c31881c/core.js"></script>
<link href="https://deliverywiget.iiko.ru/v2_0/assets/css/style.css" rel="stylesheet" type="text/css" media="screen" />
    <link rel="shortcut icon" href="assets/5c31881c/img/favicon.ico" type="image/x-icon">
    </head>
<body class=""><div id="page-container" class="sidebar-l sidebar-o side-scroll header-navbar-fixed">

    <nav id="sidebar">
    <!-- Sidebar Scroll Container -->
    <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 768px;"><div id="sidebar-scroll" style="overflow: hidden; width: auto; height: 768px;">
            <!-- Sidebar Content -->
            <!-- Adding .sidebar-mini-hide to an element will hide it when the sidebar is in mini mode -->
            <div class="sidebar-content">
                <!-- Side Header -->
                <div class="side-header side-content" style="background: #FFF;">
                    <button class="btn btn-link text-gray pull-right hidden-md hidden-lg" type="button" data-toggle="layout" data-action="sidebar_close">
                        <i class="fa fa-times"></i>
                    </button>

                    <a class="h5 img-c push-5-t sidebar-logo-img" href="admin/settings.html"></a>
                </div>
                <!-- END Side Header -->

                <!-- Side Content -->
                <div class="side-content">
                    <ul id="w0" class="nav-main"><li class="hidden-lg"><a href="demo.1.html">Демонстрация возможностей</a></li>
<li class="hidden-lg active open"><a class="active" href="instruction.1.html">Инструкция к подключению</a></li>
<li><a class="nav-submenu" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Быстрый старт</a><ul><li><a href="instruction@sPage=iikoRMS.html">Шаг 1. Настройка iikoRMS</a></li><li><a href="instruction@sPage=iikoBiz.html">Шаг 2. Настройка iiko.Biz</a></li><li><a href="instruction@sPage=index.html">Шаг 3. Настройка сайта</a></li></ul></li>
<li><a class="nav-submenu" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Дополнительные настройки</a><ul><li><a href="instruction@sPage=seo.html">Индексация страниц каталога</a></li><li><a href="instruction@sPage=platius.html">Интеграция с Platius</a></li><li><a href="instruction@sPage=card5.html">Настройка iikoCard5</a></li><li><a href="instruction@sPage=localization.html">Локализация текста</a></li><li><a href="instruction@sPage=hide-modifiers.html">Скрыть некоторые модификаторы</a></li><li><a href="instruction@sPage=smtp.html">Рассылка писем со своего почтового сервера</a></li><li><a href="instruction@sPage=topping-name.html">Переименование товаров и блюд</a></li></ul></li>
<li><a class="nav-submenu" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Настройка оплат</a><ul><li><a href="instruction@sPage=pay-courier.html">Прием карт, оплата курьером</a></li><li><a href="instruction@sPage=pay-online.html">Интеграция с платежной системой PayOnline</a></li><li><a href="instruction@sPage=pay-alfa.html">Интеграция с платежной системой Альфа-Банк</a></li><li><a href="instruction@sPage=pay-rfi.html">Интеграция с платежной системой РФИ-Банк</a></li><li><a href="instruction@sPage=pay-sber.html">Интеграция с платежной системой Сбербанк</a></li><li><a href="instruction@sPage=pay-be-paid.html">Интеграция с платежной системой BePaid</a></li></ul></li>
<li class="active open"><a class="nav-submenu active" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Кастомизация блоков виджета</a><ul><li class="active"><a class="active" href="instruction@sPage=customTemplates.html">Общие настройки</a></li><li><a href="instruction@sPage=pageTypes.html">Типы страниц</a></li><li><a href="instruction@sPage=tags.html">Фильтрация в каталоге товаров (теги)</a></li></ul></li>
<li><a class="nav-submenu" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Примеры кастомизации</a><ul><li><a href="instruction@sPage=catalogItem.html">Товар в списке</a></li><li><a href="instruction@sPage=itemDetail.html">Детальная страница товара</a></li><li><a href="instruction@sPage=cart.html">Блок корзины</a></li><li><a href="instruction@sPage=cartItem.html">Товар в корзине</a></li><li><a href="instruction@sPage=lastPurchases.html">Блок "Сейчас покупают"</a></li><li><a href="instruction@sPage=happy-hour.html">Блок "Счасливый час"</a></li><li><a href="instruction@sPage=itemsFilter.html">Набор товаров</a></li><li><a href="instruction@sPage=popupOrderSuccess.html">Подтверждение заказа в "Pop up"</a></li></ul></li>
<li><a href="instruction@sPage=events.html">События виджета</a></li>
<li><a href="instruction@sPage=objects.html">Объекты виджета</a></li>
<li><a class="nav-submenu" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Демо</a><ul><li><a href="instruction@sPage=cart-events.html">Отлавливание событий корзины</a></li><li><a href="instruction@sPage=popupAuth.html">Авторизация/Регистрация в "Pop up"</a></li><li><a href="instruction@sPage=plusMinus.html">+/- в карточке товра</a></li><li><a href="instruction@sPage=pageToppings.html">Выбор модификаторов в карточке товара</a></li><li><a href="instruction@sPage=userOnAuth.html">Отслеживание авторизации пользователя</a></li></ul></li>
<li><a class="nav-submenu" href="instruction@sPage=customTemplates.html#" data-toggle="nav-submenu">Типовые ошибки</a><ul><li><a href="instruction@sPage=common-error-1.html">Виджет не имеет доступа к Вашему ресторану</a></li><li><a href="instruction@sPage=common-error-2.html">Проблемы со связью с сервером</a></li><li><a href="instruction@sPage=common-error-3.html">Продукт снят с продажи, но доступен на сайте</a></li><li><a href="instruction@sPage=common-error-4.html">Отсутствует лицензия iikoDelivery/iikoCallcenter</a></li><li><a href="instruction@sPage=common-error-stop-list.html">Не работает стоп-лист</a></li></ul></li>
<li class="hidden-lg"><a href="site/releases.html">История обновлений</a></li></ul>                </div>
                <!-- END Side Content -->
            </div>
            <!-- Sidebar Content -->
        </div><div class="slimScrollBar" style="background: rgb(255, 255, 255); width: 5px; position: absolute; top: 0px; opacity: 0.35; display: none; border-radius: 7px; z-index: 99; right: 2px; height: 768px;"></div><div class="slimScrollRail" style="width: 5px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 1; z-index: 90; right: 2px;"></div></div>
    <!-- END Sidebar Scroll Container -->
</nav>
    <header id="header-navbar" class="content-mini content-mini-full">
        <!-- Header Navigation Left -->
        <ul class="nav-header push-20-l"><li class="hidden-lg"><h3><button class="btn btn-default" data-toggle="layout" data-action="sidebar_toggle" type="button"><i class="fa fa-navicon"></i></button></h3></li>
<li class="logo push-5-l push-20-r"><a href="admin/settings.html"></a></li>
<li class="hidden-xs visible-lg push-20-r"><a href="demo.1.html">Демонстрация</a></li>
<li class="hidden-xs visible-lg push-20-r active"><a href="instruction.1.html">Инструкция</a></li></ul>        <!-- END Header Navigation Left -->
    </header>

    <main id="main-container">
        <div class="content content-narrow">
            <h1 class="h1 push-20">Общий подход к кастомизации</h1>
<p>
    <b>Кастомизация виджета может повлиять на поддержку нового функционала виджета. Настоятельно рекомендуется воздержаться от кастомизации html и использовать изменение css стилей виджета, что в 90% случаев позволяет достигнуть желаемого результата.</b>
</p>
<p>
    Для некоторых блоков виджета доступна кастомизация html кода, а так же передача дополнительных параметров, которые будут влиять на отображение блока на странице.
    Для этого в коде страиницы размещается javaScript объект <b>window.jStoreConfig</b>, содержащий массив <b>templates</b> с описанием кастомизированных блоков.
    Для примера это может выглядеть вот так:
</p>
<pre>
&lt;script&gt;
	window.jStoreConfig = {
		'restaurant' : '#REST_ID#',
		'templates' : [
			{
				'type': 'lastPurchases#top_recommendation',
				'template' : '#recommendationBlockTemplate', // Шаблон блока будет браться из содержимого тега с id 'recommendationBlockTemplate'
				'properties': {
					'sliderUse': true,
					'visible': ['order'] // Показать блок только на странице заказа
				}
			},
			{
				'type': 'cart#top_cart-&gt;cartItem',// Кастомизация товара в блоке корзины с id 'top_cart'
				'template' : '#cartTopItem',
				'properties': {
					'sliderUse': true
				}
			}, // Кастомизация блока &quot;recommendationBlock&quot; с id &quot;top_recommendation&quot;
			{
				'type': 'lastPurchases',
				'properties': {
					'sliderUse': true
				}
			}, // Кастомизация всех остальных блоков &quot;lastPurchases&quot; на странице
			{
				'type': 'itemsFilter#hitBlock',
				'template' : '#hitBlockTemplate',
				'properties': {
					'sliderUse': true, // Использовать слайдер
					'tags': ['хит'] // Показать блок только товары с тегом хит!
				}
			}
		]
	};
&lt;/script&gt;
&lt;script id='recommendationBlockTemplate' type='text/template'&gt;
	//здесь выводим нужный нам html шаблона
	//блока рекоммендаций
&lt;/script&gt;</pre><p id="blockTorCustom">
    На данный момент такой вариант кастомизации доступны следующие блоки:
</p>
<table class="table vars_desc">
    <thead>
    <tr>
        <th>type</th>
        <th>Название</th>
        <th>Подробная информация</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>
            itemPopUp
        </td>
        <td>
            Попап товара
        </td>
        <td>
            <a href="instruction@sPage=itemDetail.html">Подробнее</a>        </td>
    </tr>
    <tr>
        <td>
            cart
        </td>
        <td>
            Информер корзины
        </td>
        <td>
            <a href="instruction@sPage=cart.html">Подробнее</a>        </td>
    </tr>
    <tr>
        <td>
            cartItem
        </td>
        <td>
            Товар в блоке корзины
        </td>
        <td>
            <a href="instruction@sPage=cart.html">Подробнее</a>        </td>
    </tr>
        <tr>
        <td>
            itemsFilter
        </td>
        <td>
            Вывод набора товаров в отдельном блоке
        </td>
        <td>
            <a href="instruction@sPage=itemsFilter.html">Подробнее</a>        </td>
    </tr>
    <tr>
        <td>
            lastPurchases
        </td>
        <td>
            Последние покупки на сайте
        </td>
        <td>
            <a href="instruction@sPage=lastPurchases.html">Подробнее</a>        </td>
    </tr>

    </tbody>
</table>
<p>Возможные модификации через <b>window.jStoreConfig</b>:</p>
<table class="table vars_desc">
    <thead>
    <tr>
        <th>Переменная</th>
        <th>Значение</th>
        <th>Описание</th>
        <th>Доступна для блока</th>
    </tr>
    </thead>
    <tbody>
        <tr>
            <td>type</td>
            <td>Поле <b>type</b> из <a href="instruction@sPage=customTemplates.html#blockTorCustom">таблицы</a> доступных для кастомизации блоков</td>
            <td>Тип блока, для которого нужно применить конфигурацию</td>
            <td class="align-middle"><b>Обязательный параметр</b></td>
        </tr>
        <tr>
            <td>template</td>
            <td>CSS селектор</td>
            <td>Идентификатор html-элемента, содержимое которого нужно использовать в качестве шаблона. Например "<b>#cart-block</b>" или "<b>.cart-block</b>". Важно, чтобы в DOM дереве был только один объект с таким селектором</td>
            <td class="align-midle">Все блоки</td>
        </tr>
        <tr>
            <td>properties.visible</td>
            <td>Array</td>
            <td>Массив, содержащий коды страниц, на которых должен быть показан блок. На всех остальных блок будет скрыт. Список страниц приведён <a href="instruction@sPage=pageTypes.html">тут</a></td>
            <td class="align-midle">Все блоки</td>
        </tr>
        <tr>
            <td>properties.hidden</td>
            <td>Array</td>
            <td>Массив, содержащий коды страниц, на которых должен быть скрыт блок. На всех остальных блок будет показан. Список страниц приведён <a href="instruction@sPage=pageTypes.html">тут</a></td>
            <td class="align-midle">Все блоки</td>
        </tr>
        <tr>
            <td>properties.sliderUse</td>
            <td>Boolean</td>
            <td>Преобразовывать ли список товаров в слайдер( используется <a href="http://kenwheeler.github.io/slick/">Slick</a> )</td>
            <td class="align-midle">
                <br>
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
        <tr>
            <td>properties.sliderConfig</td>
            <td>Object</td>
            <td>Настройки показа слайдера, если <b>properties.sliderUse: true</b>( возможные настройки <a href="http://kenwheeler.github.io/slick/">тут</a> (раздел <b>Settings</b>) )</td>
            <td class="align-midle">
                <br>
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
        <tr>
            <td>properties.limit</td>
            <td>Integer</td>
            <td>Количество товаров, которые нужно выводить в блоке</td>
            <td class="align-midle">
                <br>
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
        <tr>
            <td>properties.categories</td>
            <td>Array</td>
            <td>Массив, содержащий GUID разделов, товары которых нужно показать в блоке.</td>
            <td class="align-midle">
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
        <tr>
            <td>properties.items</td>
            <td>Array</td>
            <td>Массив, содержащий GUID товаров, которые нужно показать в блоке.</td>
            <td class="align-midle">
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
        <tr>
            <td>properties.tags</td>
            <td>Array</td>
            <td>Массив, содержащий названия тегов товаров. Товар, имеющий хотя бы один из тегов, будет выводиться в блоке.</td>
            <td class="align-midle">
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
        <tr>
            <td>properties.showLastPurchases</td>
            <td>Boolean</td>
            <td>Если задан в <b>true</b>, то в блоке будут показаны 20 последних заказанных товаров</td>
            <td class="align-midle">
                <a href="instruction@sPage=itemsFilter.html">itemsFilter</a>            </td>
        </tr>
    </tbody>
</table>        </div>
    </main>

    <footer id="page-footer" class="content-mini content-mini-full font-s12 bg-gray-lighter clearfix">
        <div class="pull-left">
            <a class="font-w600" href="index.html" target="_blank">jstore.me</a> © <span>2020</span>
        </div>
    </footer>

</div>


<!-- Page JS Code -->
<script>
    $(function () {
        // Init page helpers (Slick Slider plugin)
        App.initHelpers('slick');

        $('.js-slider a').fancybox({
            openEffect: 'fade',
            closeEffect: 'fade',
            nextEffect: 'fade',
            prevEffect: 'fade',
            padding: 0
        });
    });
</script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function () {
            try {
                w.yaCounter26939808 = new Ya.Metrika({
                    id: 26939808,
                    webvisor: true,
                    trackHash: true
                });
            } catch (e) {
            }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () {
                n.parentNode.insertBefore(s, n);
            };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else {
            f();
        }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript>
    <div><img src="https://mc.yandex.ru/watch/26939808" style="position:absolute; left:-9999px;" alt=""/></div>
</noscript>
<!-- END Yandex.Metrika counter -->
    <!-- Google Analytics -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-36219931-4', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
    <!-- BEGIN JIVOSITE CODE {literal} -->
    <script src="https://code.jivosite.com/widget/hbV9ReP8MF" async></script>
    <!-- {/literal} END JIVOSITE CODE -->
</body>
</html>