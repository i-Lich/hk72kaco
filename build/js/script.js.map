{"version":3,"sources":["main.js"],"names":["$","click","toggleClass","cartHeight","document","getElementById","classList","contains","clientWindowHeight","documentElement","clientHeight","cartBlockTopPosition","getBoundingClientRect","top","contentHeight","querySelector","offsetHeight","maxCartBlockHeight","style","maxHeight","window","jStoreEvents","push","data","removeClass","onresize","querySelectorAll","forEach","elem","addEventListener","body","animate","scrollTop","offset"],"mappings":"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","file":"script.js","sourcesContent":["$(function(){\r\n    $(\".menu-more\").click(function () {\r\n        $('#lsp-block-tree').toggleClass('open');\r\n    });\r\n    $(\".recommendation-more\").click(function () {\r\n        $('.lsp-js-recommendation-items').toggleClass('openFlex');\r\n    });\r\n    $(\".happy-hour-more\").click(function () {\r\n        $('.lsp-block-hh-product-title').toggleClass('open');\r\n        $('.lsp-block-hh-product-image').toggleClass('open');\r\n        $('.lsp-block-hh-product-desc').toggleClass('open');\r\n        $('.lsp-block-hh-product-prices').toggleClass('open');\r\n        $('.lsp-block-hh-countdown-title').toggleClass('open');\r\n        $('.lsp-block-hh-countdown-time').toggleClass('open');\r\n        $('.lsp-block-hh-add-to-cart').toggleClass('open');\r\n        $('.lsp-block-hh-inner').toggleClass('open');\r\n    });\r\n    $(\".lsp-block-gift-more\").click(function () {\r\n        $('.lsp-block-js-gift-items').toggleClass('open');\r\n        $('.lsp-block-gift-accept').toggleClass('open');\r\n    });\r\n    $(\".cart-more\").click(function () {\r\n        $('#lsp-block-cart .lsp-cart-items-list').toggleClass('open');\r\n        $('#lsp-block-cart .lsp-info-message-bottom').toggleClass('open');\r\n    });\r\n});\r\n\r\n$(function() {\r\n\r\n    window.jStoreEvents = window.jStoreEvents ? window.jStoreEvents : [];\r\n    jStoreEvents.push(['pageChanged', null, function (data) {\r\n        $('.show-menu-burger').removeClass('active');\r\n        $('.jstore-block-search').removeClass('open');\r\n        $('#lsp-block-userinfo').removeClass('open');\r\n        $('.dropdown-cart').removeClass('open');\r\n        $('.kaco-header-fixed-contacts--dropdown').removeClass('open');\r\n    }]);\r\n\r\n    $(\".show-menu-burger\").click(function () {\r\n        $('.jstore-block-search').removeClass('open');\r\n        $('#lsp-block-userinfo').removeClass('open');\r\n        $('.dropdown-cart').removeClass('open');\r\n        $('.jstore-header-menu').toggleClass('open');\r\n        $('.kaco-header-fixed-contacts--dropdown').removeClass('open');\r\n        $('.show-menu-burger').toggleClass('active');\r\n    });\r\n\r\n    $(\".icon-search\").click(function () {\r\n        $('.jstore-header-menu').removeClass('open');\r\n        $('.show-menu-burger').removeClass('active');\r\n        $('#lsp-block-userinfo').removeClass('open');\r\n        $('.dropdown-cart').removeClass('open');\r\n        $('.kaco-header-fixed-contacts--dropdown').removeClass('open');\r\n        $('.jstore-block-search').toggleClass('open');\r\n    });\r\n\r\n    $(\".icon-signin\").click(function () {\r\n        $('.jstore-header-menu').removeClass('open');\r\n        $('.show-menu-burger').removeClass('active');\r\n        $('.jstore-block-search').removeClass('open');\r\n        $('.dropdown-cart').removeClass('open');\r\n        $('.kaco-header-fixed-contacts--dropdown').removeClass('open');\r\n        $('#lsp-block-userinfo').toggleClass('open');\r\n    });\r\n\r\n    $(\".icon-contacts\").click(function () {\r\n        $('.jstore-header-menu').removeClass('open');\r\n        $('.show-menu-burger').removeClass('active');\r\n        $('.jstore-block-search').removeClass('open');\r\n        $('.dropdown-cart').removeClass('open');\r\n        $('#lsp-block-userinfo').removeClass('open');\r\n        $('.kaco-header-fixed-contacts--dropdown').toggleClass('open');\r\n    });\r\n\r\n/*    function cartHeight() {\r\n        if (document.getElementById('lsp-header-cart').classList.contains('open')) {\r\n            let clientWindowHeight = document.documentElement.clientHeight;\r\n            let cartBlockHeight = document.getElementById('lsp-block-cart').offsetHeight + 60;\r\n            let maxCartBlockHeight = cartBlockHeight - (cartBlockHeight - clientWindowHeight) - 65;\r\n            document.getElementById('lsp-header-cart').style.maxHeight = maxCartBlockHeight + 'px';\r\n        }\r\n    }*/\r\n\r\n    function cartHeight(){\r\n        if(document.getElementById('lsp-header-cart').classList.contains('open')) {\r\n\r\n            let clientWindowHeight = document.documentElement.clientHeight;\r\n            let cartBlockTopPosition = document.getElementById('lsp-header-cart').getBoundingClientRect().top;\r\n            let contentHeight = document.querySelector('body').offsetHeight - cartBlockTopPosition;\r\n            let cartBlockHeight = document.getElementById('lsp-header-cart').offsetHeight + cartBlockTopPosition;\r\n            let maxCartBlockHeight = 0;\r\n            if (contentHeight > clientWindowHeight) {\r\n                maxCartBlockHeight =  clientWindowHeight - cartBlockTopPosition -15 ;\r\n            } else{\r\n                maxCartBlockHeight =  contentHeight -15;\r\n            }\r\n            document.getElementById('lsp-header-cart').style.maxHeight = maxCartBlockHeight + 'px';\r\n        }\r\n    }\r\n\r\n    $(\".btn-lsp-header-cart\").click(function () {\r\n        $('.jstore-header-menu').removeClass('open');\r\n        $('.show-menu-burger').removeClass('active');\r\n        $('.jstore-block-search').removeClass('open');\r\n        $('#lsp-block-userinfo').removeClass('open');\r\n        $('.kaco-header-fixed-contacts--dropdown').removeClass('open');\r\n        $('#lsp-header-cart').toggleClass('open');\r\n        cartHeight();\r\n    });\r\n\r\n    window.onresize = function resizeCartBlock() {\r\n        if (document.getElementById('lsp-header-cart').classList.contains('open')) {\r\n            cartHeight();\r\n        }\r\n    };\r\n\r\n    window.jStoreEvents = window.jStoreEvents ? window.jStoreEvents : [];\r\n    jStoreEvents.push(['ready', null, function (data) {\r\n\r\n        //scroll к контенту при клике на авторизацию-вход на мобилках\r\n        const buttonsSignInUp = document.querySelectorAll('.lsp-block-userinfo .lsp-block-userinfo-inner a');\r\n        buttonsSignInUp.forEach(function(elem) {\r\n            elem.addEventListener(\"click\", function() {\r\n                $([document.documentElement, document.body]).animate({\r\n                    scrollTop: $(\"#lsp-block-content\").offset().top - 120\r\n                }, 500);\r\n            });\r\n        });\r\n        //end scroll к контенту при клике на авторизацию-вход\r\n        //scroll к контенту при клике на кнопку \"оформить заказ\"\r\n        $('.lsp-block-cart-wrapper a.cart-to-order').click(function () {\r\n            $([document.documentElement, document.body]).animate({\r\n                scrollTop: $(\"#lsp-block-content\").offset().top - 120\r\n            }, 500);\r\n        });\r\n        const buttonsToOrder = document.querySelectorAll('.lsp-block-cart-order-button-cont a');\r\n        buttonsToOrder.forEach(function(elem) {\r\n            elem.addEventListener(\"click\", function() {\r\n                $('.dropdown-cart').removeClass('open');\r\n                $([document.documentElement, document.body]).animate({\r\n                    scrollTop: $(\"#lsp-block-content\").offset().top - 120\r\n                }, 500);\r\n            });\r\n        });\r\n        //scroll к контенту при кнопке поиска\r\n        const buttonsToSearch = document.querySelectorAll('.lsp-block-search-order-button-cont > input');\r\n        buttonsToSearch.forEach(function(elem) {\r\n            elem.addEventListener(\"click\", function() {\r\n                $([document.documentElement, document.body]).animate({\r\n                    scrollTop: $(\"#lsp-block-content\").offset().top - 120\r\n                }, 500);\r\n                $('#jstore-block-search--popup').removeClass('open--search');\r\n            });\r\n        });\r\n    }]);\r\n\r\n});\r\n\r\n\r\n"]}